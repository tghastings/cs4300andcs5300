\documentclass{article}
\usepackage[hscale=0.7,vscale=0.8]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{enumitem,amssymb}
\usepackage[T1]{fontenc}
\usepackage{mathpazo}  % Palatino font
\usepackage{array}  % For improved table column definitions


\usepackage{microtype} % Improves spacing & kerning
\usepackage{hyperref}

% Define custom colors
\definecolor{codebg}{RGB}{240,240,240}  % Light gray background
\definecolor{codeborder}{RGB}{100,100,100}  % Darker gray border
\definecolor{keywordcolor}{RGB}{0,0,150}  % Dark blue for keywords
\definecolor{commentcolor}{RGB}{0,128,0}  % Green for comments
\definecolor{stringcolor}{RGB}{150,0,0}  % Dark red for strings
\hypersetup{
    colorlinks=true,        % Enable colored links
    urlcolor=magenta,          % Change link color
    linkcolor=red,          % Color for internal links
    citecolor=green         % Color for citations
}

% Define custom lstlisting style
\lstdefinestyle{customcode}{
    backgroundcolor=\color{codebg},
    frame=single, 
    rulecolor=\color{codeborder},
    keywordstyle=\color{keywordcolor}\bfseries,
    commentstyle=\color{commentcolor},
    stringstyle=\color{stringcolor},
    basicstyle=\ttfamily\footnotesize,
    breaklines=true,
    framextopmargin=5pt,
    framexbottommargin=5pt,
    xleftmargin=10pt,
    xrightmargin=10pt,
    showstringspaces=false,
    numbers=left,
    numberstyle=\tiny\color{gray},
}
\title{Homework 2: Introduction to Django}
\author{}
\date{}

\begin{document}
\maketitle

\section{Objective}
You are tasked with building a RESTful Movie Theater Booking Application using Python and Django. The application should allow users to:

\begin{itemize}
    \item View movie listings via the API
    \item Book seats via the API
    \item Check their booking history via the API
    \item An attractive user interface using Django templates and Bootstrap that displays and manipulates the same data as the API.
\end{itemize}


\textbf{REMINDER:} Push to your github repo frequently! You should be pushing from your homework folder, created in Homework 1. Double check git status to see that your new work is staged for commit. Write good comments each time you push.

\section{Time Requirement}
Approximately 4-5 hours.

\section{Instructions}
The following instructions will help you get started. These are not all inclusive, and you will need to spend some time researching solutions to the requirements. 

\subsection{Project Setup (30 minutes)}
\begin{enumerate}
    \item Create a new Django project named \texttt{movie\_theater\_booking} inside of the \textit{homework2} directory. \href{https://docs.djangoproject.com/en/stable/intro/tutorial01/}{Django Getting Started - Docs}
    \item Set up a virtual environment and install dependencies:
    \begin{lstlisting}[style=customcode,language=bash]
    python3 -m venv myenv --system-site-packages
    source myenv/bin/activate
    pip install django djangorestframework
    \end{lstlisting}
\end{enumerate}

\subsection{Creating the Booking App (30 minutes)}
Within your project folder, create a Django app named \texttt{bookings} with the following models:

\begin{itemize}
    \item \textbf{Movie}: title, description, release date, duration.
    \item \textbf{Seat}: seat number, booking status.
    \item \textbf{Booking}: movie, seat, user, booking date.
\end{itemize}

\subsection{Implementing the MVT Architecture (1 hour)}
\textbf{Model:}
\begin{itemize}
    \item Create and run migrations to set up the database tables for your models.
\end{itemize}
\textbf{View:}
\begin{itemize}
    \item Develop the following views using Django REST Framework's viewsets:
\end{itemize}
\begin{itemize}
        \item MovieViewSet: For CRUD operations on movies.
    \begin{itemize}
        \item SeatViewSet: For seat availability and booking.
    \end{itemize}
    \begin{itemize}
        \item BookingViewSet: For users to book seats and view their booking history.
    \end{itemize}
\end{itemize}
\textbf{Templates:}
\begin{itemize}
    \item Create HTML templates for user interactions (movie listings, seat booking, and booking history) using Djangoâ€™s templating system.
\end{itemize}


\subsection{Creating an Attractive User Interface (1 hour)}
Create a templates directory in your \texttt{bookings} app to store HTML files:

\begin{verbatim}
bookings/
    templates/
        bookings/
            base.html
            movie_list.html
            seat_booking.html
            booking_history.html
\end{verbatim}

\begin{itemize}
    \item Base Template (base.html): Use Bootstrap for responsive design. Include the Bootstrap CSS link in your base template.

    \item Create Individual Templates: Design the movie listing, seat booking, and booking history pages, ensuring they are visually appealing and user-friendly.

\end{itemize}
\begin{minipage}{\textwidth}
Example of a movie listing template (\texttt{movie\_list.html}):
\begin{lstlisting}[style=customcode,language=html]
{% extends 'bookings/base.html' %}
{% block title %}Movie List{% endblock %}
{% block content %}
<h2>Available Movies</h2>
<ul class="list-group">
    {% for movie in movies %}
        <li class="list-group-item">
            <h5>{{ movie.title }}</h5>
            <p>{{ movie.description }}</p>
            <a href="{% url 'book_seat' movie.id %}" class="btn btn-primary">Book Now</a>
        </li>
    {% endfor %}
</ul>
{% endblock %}
\end{lstlisting}
\end{minipage}

\subsection{RESTful API Implementation (1 hour)}
You will create an API using serializers and URLs. 

\begin{itemize}
    \item Serializers:
\end{itemize}
\begin{itemize}
    \item Create serializers for the Movie, Seat, and Booking models to convert them to JSON format.
\end{itemize}
\begin{itemize}
    \item URLs:
\end{itemize}
\begin{itemize}
    \item Set up URL routing for the API endpoints in urls.py.
\end{itemize}
\begin{itemize}
            \item Endpoints should include:
            \begin{itemize}
                \item /api/movies/: List all movies and allow CRUD operations.
            \end{itemize}
            \begin{itemize}
                \item /api/seats/: Check seat availability and book seats.
            \end{itemize}
            \begin{itemize}
                \item /api/bookings/: View booking history and create new bookings.
            \end{itemize}
\end{itemize}

\subsection{Testing \& Running Locally (1 hour)}
\begin{itemize}
    \item You will want to run the application locally inside of the DevEdu environment.
    \begin{itemize}
        \item Start the server. Then navigate to the "app" button inside of DevEdu dashboard (next to the editor). The link will be similar to \textit{https://app-containerName-SectionID.devedu.io/}
        \begin{lstlisting}[style=customcode,language=bash]
python3 manage.py runserver 0.0.0.0:3000
\end{lstlisting}
    \end{itemize}

    \item Write Unit Tests: 
    \begin{itemize}
        \item Create unit tests for your code in tests.py.
    \end{itemize}
\end{itemize}
\begin{itemize}
    \item Integration Testing: 
    \begin{itemize}
        \item Test the API endpoints to ensure they return the correct responses (status codes, data format).
    \end{itemize}
\end{itemize}
\begin{itemize}
    \item Behavior-Driven-Design (BDD) Testing: 
    \begin{itemize}
        \item Test the behavior of the application using \href{https://behave-django.readthedocs.io/en/stable/}{Behave}.
    \end{itemize}
\end{itemize}

\subsection{Deployment (1 Hour)}
\begin{itemize}
    \item Deploy using \href{https://render.com/docs/deploy-django}{Render}.
     \begin{itemize}
        \item Render is a unified cloud to build and run all your apps and websites with free TLS certificates, global CDN, private networks and auto deploys from Git.
    \end{itemize}
\end{itemize}

\section{Resources and Examples}
Below are some resources that might help with this homework assignment. 

\begin{itemize}
    \item Django Documentation: \href{https://docs.djangoproject.com/en/stable/}{Django Official Docs}
    \item Django REST Framework Documentation: \href{https://www.django-rest-framework.org/}{DRF Docs}
    \item Bootstrap Documentation: \href{https://getbootstrap.com/docs/5.3/getting-started/introduction/}{Bootstrap}
    \item Testing Documentation: \href{https://docs.djangoproject.com/en/stable/topics/testing/}{Testing in Django}
\end{itemize}

\textbf{REMINDER:} Any use of AI in your assignments, whether for generating ideas, text, code, or other content, must be explicitly cited in the \texttt{README}.  This means clearly indicating which AI tools were used, what they were used for, and how the generated content was incorporated into your work.

\section{Submission Requirements}
\begin{enumerate}
    \item Submit a zip file using Canvas containing: \begin{itemize}
        \item Project source code with tests.
        \item README file with setup instructions.
        \item GitHub repository with frequent commits.
\end{itemize}
    \item Push all files to your GitHub repository
    \item Have all code in DevEdu for testing and running purposes
\end{enumerate}

\section{Assessment Criteria}
\begin{itemize}
    \item \textbf{Functionality (25 points)}: Meets all requirements.
    \item \textbf{User Experience (15 points)}: Clean UI with Bootstrap.
    \item \textbf{Code Quality (15 points)}: Follows Django conventions.
    \item \textbf{Testing (20 points)}: Unit and integration tests included.
    \item \textbf{Deployment (20 points)}: Accessible via Render URL.
    \item \textbf{Documentation (5 points)}: Clear README included.
\end{itemize}
\newpage 
\subsection{Rubric (Total: 100 Points)}

\begin{table}[ht]
\centering
\small
\begin{tabular}{l l p{8cm}}
\hline
\textbf{Criteria} & \textbf{Points} & \textbf{Description} \\
\hline
Functionality &
35 &
- Application meets all requirements (view movie listings, book seats, check booking history).\\
& &
- RESTful API is fully functional and responds as expected. \newline \\
User Experience &
15 &
- User interface is visually appealing and user-friendly.\\
& &
- Effective use of Bootstrap or similar frameworks for design.\\
& &
- Application is easy to navigate. \newline \\
Code Quality &
15 &
- Code is well-organized and follows Django conventions. \\
& &
- Proper use of comments and documentation. \\
& &
- Efficient use of models, views, and serializers. \newline \\
Testing &
20 &
- Comprehensive unit and integration tests are written.\\
& &
- Tests cover edge cases and provide adequate coverage for all major functionality (80\%  Coverage).\\
& &
- Tests are properly organized and easy to understand. \\
& & 
- Tests pass. \newline \\

Deployment &
10 &
- Application is successfully accessible via App in Render. \newline \\ 
Documentation &
5 &
- README file is complete, explaining project structure, setup, and how to run the application.\\
& &
- Documentation is clear and helpful for understanding the application.\\
\hline
\end{tabular}
\caption{Homework 2 Grading Rubric}
\end{table}

\end{document}
